<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AVADA CRM | Sistema de Gestão</title>
    <link rel="stylesheet" href="css/crm-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- ==========================================
       LOGIN PAGE
       ========================================== -->
    <div id="login-page" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <div class="login-logo">
                    <i class="fas fa-car-side"></i>
                </div>
                <h1 class="login-title">AVADA CRM</h1>
                <p class="login-subtitle">Sistema de Gestão para Profissionais</p>
            </div>

            <div class="error-message" id="login-error"></div>

            <form id="login-form">
                <div class="form-group">
                    <label class="form-label">E-mail</label>
                    <input type="email" id="login-email" class="form-input" placeholder="seu@email.com" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Senha</label>
                    <input type="password" id="login-password" class="form-input" placeholder="••••••••" required>
                </div>

                <button type="submit" class="btn-login">
                    <span id="login-btn-text">Entrar</span>
                    <span id="login-loading" class="loading hidden"></span>
                </button>
            </form>

            <p style="text-align: center; margin-top: 20px; color: #718096; font-size: 0.9rem;">
                Acesso restrito a profissionais autorizados
            </p>
        </div>
    </div>

    <!-- ==========================================
       DASHBOARD
       ========================================== -->
    <div id="dashboard-page" class="dashboard hidden">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <i class="fas fa-car-side"></i> AVADA CRM
                </div>
                <div class="sidebar-user">
                    <div class="sidebar-user-name" id="user-name">Carregando...</div>
                    <div class="sidebar-user-role" id="user-role"></div>
                </div>
            </div>

            <nav class="sidebar-menu" id="sidebar-menu">
                <div class="menu-item active" data-view="dashboard">
                    <span class="menu-icon"><i class="fas fa-chart-line"></i></span>
                    <span>Dashboard</span>
                </div>
                <div class="menu-item" data-view="clients">
                    <span class="menu-icon"><i class="fas fa-users"></i></span>
                    <span>Clientes</span>
                </div>
                <div class="menu-item" data-view="processes">
                    <span class="menu-icon"><i class="fas fa-folder-open"></i></span>
                    <span>Processos</span>
                </div>
                <div class="menu-item admin-only hidden" data-view="system-info">
                    <span class="menu-icon"><i class="fas fa-info-circle"></i></span>
                    <span>Informações do Sistema</span>
                </div>
                <div class="menu-item admin-only hidden" data-view="users">
                    <span class="menu-icon"><i class="fas fa-user-cog"></i></span>
                    <span>Usuários</span>
                </div>
            </nav>

            <div class="sidebar-footer">
                <button class="btn-logout" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Sair
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="topbar">
                <h1 class="topbar-title" id="page-title">Dashboard</h1>
            </div>

            <div class="content-area" id="content-area">
                <!-- Dynamic content loaded here -->
            </div>
        </main>
    </div>

    <!-- ==========================================
       MODALS
       ========================================== -->

    <!-- Client Modal -->
    <div id="client-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="client-modal-title">Novo Cliente</h2>
                <button class="modal-close" onclick="closeClientModal()">×</button>
            </div>
            <div class="modal-body">
                <form id="client-form">
                    <input type="hidden" id="client-id">
                    <div class="form-group">
                        <label class="form-label">Nome *</label>
                        <input type="text" id="client-name" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">E-mail</label>
                        <input type="email" id="client-email" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Telefone *</label>
                        <input type="tel" id="client-phone" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">CPF</label>
                        <input type="text" id="client-cpf" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Endereço</label>
                        <input type="text" id="client-address" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Observações</label>
                        <textarea id="client-notes" class="form-input" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeClientModal()">Cancelar</button>
                <button class="btn btn-primary" onclick="saveClient()">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Process Modal -->
    <div id="process-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="process-modal-title">Novo Processo</h2>
                <button class="modal-close" onclick="closeProcessModal()">×</button>
            </div>
            <div class="modal-body">
                <form id="process-form">
                    <input type="hidden" id="process-id">
                    <div class="form-group">
                        <label class="form-label">Cliente *</label>
                        <select id="process-client" class="form-input" required>
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Número do Caso *</label>
                        <input type="text" id="process-case-number" class="form-input" required>
                    </div>

                    <!-- TIPO DE PROCESSO -->
                    <div class="form-group">
                        <label class="form-label">Tipo de Processo *</label>
                        <select id="process-type" class="form-input" required>
                            <option value="">Selecione...</option>
                            <option value="Administrativo">1. Administrativo</option>
                            <option value="Judicial">2. Judicial</option>
                        </select>
                    </div>

                    <!-- FASE PROCESSUAL -->
                    <div class="form-group">
                        <label class="form-label">Fase Processual *</label>
                        <select id="process-phase" class="form-input" required>
                            <option value="">Selecione...</option>
                            <option value="Defesa de Autuação">1. Defesa de Autuação</option>
                            <option value="Recurso à JARI">2. Recurso à JARI</option>
                            <option value="Recurso ao CETRAN">3. Recurso ao CETRAN</option>
                            <option value="Recurso ao Colegiado da JARI">4. Recurso ao Colegiado da JARI</option>
                            <option value="Petição Inicial (sempre solicite gratuidade de justiça)">5. Petição Inicial
                                (sempre solicite gratuidade de justiça)</option>
                            <option value="Embargos de Declaração (sempre solicite gratuidade de justiça)">6. Embargos
                                de Declaração (sempre solicite gratuidade de justiça)</option>
                            <option value="Recurso Inominado (sempre solicite gratuidade de justiça)">7. Recurso
                                Inominado (sempre solicite gratuidade de justiça)</option>
                            <option value="Recurso em Agravo de Instrumento (sempre solicite gratuidade de justiça)">8.
                                Recurso em Agravo de Instrumento (sempre solicite gratuidade de justiça)</option>
                            <option value="Recurso Especial (sempre solicite gratuidade de justiça)">9. Recurso Especial
                                (sempre solicite gratuidade de justiça)</option>
                            <option
                                value="Pedido de Uniformização de Jurisprudências (sempre solicite gratuidade de justiça)">
                                10. Pedido de Uniformização de Jurisprudências (sempre solicite gratuidade de justiça)
                            </option>
                            <option value="Recurso Extraordinário (sempre solicite gratuidade de justiça)">11. Recurso
                                Extraordinário (sempre solicite gratuidade de justiça)</option>
                            <option value="Réplica à Contestação (sempre reforce o pedido de gratuidade de justiça)">12.
                                Réplica à Contestação (sempre reforce o pedido de gratuidade de justiça)</option>
                            <option value="Cumprimento de Sentença">13. Cumprimento de Sentença</option>
                            <option value="Manifestação (sempre reforce o pedido de gratuidade de justiça)">14.
                                Manifestação (sempre reforce o pedido de gratuidade de justiça)</option>
                            <option value="Emenda à Inicial (sempre reforce o pedido de gratuidade de justiça)">16.
                                Emenda à Inicial (sempre reforce o pedido de gratuidade de justiça)</option>
                            <option value="Pedido de Autotutela">17. Pedido de Autotutela</option>
                        </select>
                    </div>

                    <!-- STATUS -->
                    <div class="form-group">
                        <label class="form-label">Status *</label>
                        <select id="process-status" class="form-input" required>
                            <option value="">Selecione...</option>
                            <optgroup label="Aguardando Petição">
                                <option value="Aguardando Petição - Inicial">1.1. Inicial</option>
                                <option value="Aguardando Petição - Defesa">1.2. Defesa</option>
                                <option value="Aguardando Petição - JARI">1.3. JARI</option>
                                <option value="Aguardando Petição - CETRAN">1.4. CETRAN</option>
                                <option value="Aguardando Petição - Recurso Judicial">1.5. Recurso Judicial</option>
                            </optgroup>
                            <optgroup label="Acompanhamento">
                                <option value="Ok Feito">1. Ok Feito</option>
                                <option value="Protocolado">2. Protocolado</option>
                                <option value="Julgado">3. Julgado</option>
                                <option value="Julgado - Improcedente">3.1. Improcedente</option>
                                <option value="Julgado - Procedente">3.2. Procedente</option>
                            </optgroup>
                            <optgroup label="Aguardando Recursos">
                                <option value="Aguardando Recurso Administrativo (JARI)">4. Aguardando Recurso
                                    Administrativo (JARI)</option>
                                <option value="Aguardando Recurso Administrativo (CETRAN)">5. Aguardando Recurso
                                    Administrativo (CETRAN)</option>
                                <option value="Aguardando Recurso Inominado">6. Aguardando Recurso Inominado</option>
                                <option value="Aguardando Agravo de Instrumento">7. Aguardando Agravo de Instrumento
                                </option>
                                <option value="Aguardando Embargos de Declaração">8. Aguardando Embargos de Declaração
                                </option>
                                <option value="Aguardando Pedido de Uniformização">9. Aguardando Pedido de Uniformização
                                </option>
                                <option value="Aguardando Pedido de Autotutela">10. Aguardando Pedido de Autotutela
                                </option>
                                <option value="Aguardando Recurso Extraordinário">11. Aguardando Recurso Extraordinário
                                </option>
                                <option value="Aguardando Cumprimento de Sentença">12. Aguardando Cumprimento de
                                    Sentença</option>
                                <option value="Aguardando Manifestação">13. Aguardando Manifestação</option>
                                <option value="Aguardando Emenda à Inicial">14. Aguardando Emenda à Inicial</option>
                                <option value="Aguardando Réplica à Contestação">15. Aguardando Réplica à Contestação
                                </option>
                                <option value="Aguardando Recurso ao Colegiado da JARI">16. Aguardando Recurso ao
                                    Colegiado da JARI</option>
                            </optgroup>
                            <option value="Arquivado">Arquivado</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Descrição</label>
                        <textarea id="process-description" class="form-input" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Prazo</label>
                        <input type="date" id="process-deadline" class="form-input">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeProcessModal()">Cancelar</button>
                <button class="btn btn-primary" onclick="saveProcess()">Salvar</button>
            </div>
        </div>
    </div>

    <!-- User Modal (Admin Only) -->
    <div id="user-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="user-modal-title">Cadastrar Profissional</h2>
                <button class="modal-close" onclick="closeUserModal()">×</button>
            </div>
            <div class="modal-body">
                <form id="user-form">
                    <input type="hidden" id="user-id">
                    <div class="form-group">
                        <label class="form-label">Nome Completo *</label>
                        <input type="text" id="user-name" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">E-mail *</label>
                        <input type="email" id="user-email" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Perfil *</label>
                        <select id="user-role" class="form-input" required>
                            <option value="lawyer">Advogado</option>
                            <option value="admin">Administrador</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Telefone</label>
                        <input type="tel" id="user-phone" class="form-input" placeholder="(00) 00000-0000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">OAB/Registro</label>
                        <input type="text" id="user-oab" class="form-input" placeholder="OAB/UF 000000">
                    </div>
                    <div class="form-group" id="user-password-group">
                        <label class="form-label">Senha (deixe em branco para usar padrão: advogado2024)</label>
                        <input type="password" id="user-password" class="form-input"
                            placeholder="Digite uma senha personalizada">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeUserModal()">Cancelar</button>
                <button class="btn btn-primary" onclick="saveUser()">Salvar</button>
            </div>
        </div>
    </div>

    <script src="js/crm-app.js"></script>
    <script src="js/crm-users.js"></script>
</body>

</html>